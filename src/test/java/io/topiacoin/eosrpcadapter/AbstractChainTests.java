package io.topiacoin.eosrpcadapter;

import io.topiacoin.eosrpcadapter.messages.AccountInfo;
import io.topiacoin.eosrpcadapter.messages.BlockInfo;
import io.topiacoin.eosrpcadapter.messages.ChainInfo;
import io.topiacoin.eosrpcadapter.messages.Code;
import io.topiacoin.eosrpcadapter.messages.TableRows;
import io.topiacoin.eosrpcadapter.messages.Transaction;
import io.topiacoin.eosrpcadapter.messages.TransactionBinArgs;
import io.topiacoin.eosrpcadapter.messages.TransactionJSONArgs;
import org.bouncycastle.jce.provider.BouncyCastleProvider;
import org.junit.BeforeClass;
import org.junit.Test;

import java.io.ByteArrayInputStream;
import java.security.Security;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import static junit.framework.TestCase.*;

public abstract class AbstractChainTests {

    protected abstract Chain getChain() ;

    protected abstract Chain getChain(String hostname) ;

    @BeforeClass
    public static void setUpClass() {
        Security.addProvider(new BouncyCastleProvider());
    }

    @Test
    public void testChainGetInfo() throws Exception {
        Chain chain = getChain();

        ChainInfo response = chain.getInfo();

        assertNotNull(response);
    }

    @Test
    public void testChainGetBlock() throws Exception {
        Chain chain = getChain();

        BlockInfo response = chain.getBlock("1");

        assertNotNull(response);
    }

    @Test
    public void testChainGetAccount() throws Exception {
        Chain chain = getChain();

        AccountInfo response = chain.getAccount("inita");

        assertNotNull(response);
    }

    @Test
    public void testChainGetCode() throws Exception {
        Chain chain = getChain();

        Code response = chain.getCode("inita");

        assertNotNull(response);
    }


    @Test
    public void testChainGetTableRows() throws Exception {
        Chain chain = getChain();

        TableRows response = chain.getTableRows("inita", "inita", "containers", -1, false);

        assertNotNull(response);
    }

    @Test
    public void testChainAbiJsonToBin() throws Exception {
        Chain chain = getChain("127.0.0.1");

        Map<String,String> args = new HashMap<String,String>();
        args.put("from", "inita");
        args.put("type", "foo");
        args.put("data", "bar");

        TransactionBinArgs response = chain.abiJsonToBin("inita", "anyaction", args);

        assertNotNull(response);
    }

    @Test
    public void testChainAbiBinToJson() throws Exception {
        Chain chain = getChain();

        TransactionJSONArgs response = chain.abiBinToJson("inita", "anyaction", "000000000093dd7403666f6f03626172");

        assertNotNull(response);

        System.out.println("Args: " + response.args);
    }

    @Test
    public void testCreateAccount() throws Exception {
        Chain chain = getChain("127.0.0.1");
        Transaction t = chain.createCreateAccountTransaction("eosio", "testa", "EOS55MHXAq4AJ6Gzm9fAxKbUQL9pcLHaZYc9toYdWhg9DPswizRSc", "EOS7i9f9grgWa7eFxpZNMzbESTKjFc6YXhDoSqPQSdpRuECrzdFfR");
        System.out.println(t.toString());
        String expectedTransactionData = "0000000000ea3055000000000093b1ca0100000001000218a936f03e2adc1603c84f063baf5591650aad6de8cf702b924474a91f8439050100000001000000010003739c6c44f602d29743e0188ff88e020bf4b7fa7860c907afa2bcf06b8a163e7501000000";
        assertEquals(expectedTransactionData, t.actions.get(0).data);
    }

    @Test
    public void testSetContract() throws Exception {
        Chain chain = getChain("127.0.0.1");
        Transaction t2 = chain.createSetContractTransaction("inita", new ByteArrayInputStream(testAbi.getBytes()), new ByteArrayInputStream("foobar".getBytes()));
        System.out.println(t2.toString());
        List<Transaction.Action> actions2 = t2.actions;
        for(Transaction.Action action : actions2) {
            if (action.name.equals("setabi")) {
                System.out.println("abi:");
                String abiDat = (String) action.data;//Hex.encodeHexString((byte[]) action.data);
                System.out.println(abiDat);
                assertEquals(testABiHex, abiDat);
            }
        }
    }

    private String testAbi = "{\n"
            + "    \"____comment\": \"This file was generated with eosio-abigen. DO NOT EDIT Mon Nov  5 09:44:15 2018\",\n"
            + "    \"version\": \"eosio::abi/1.0\",\n"
            + "    \"structs\": [\n"
            + "        {\n"
            + "            \"name\": \"container\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"expirationTime\",\n"
            + "                    \"type\": \"timestamp_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"capacity\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"owningAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"containerAssignment\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"assignmentID\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"allocatedTokens\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"periodicPayment\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"solutionHash\",\n"
            + "                    \"type\": \"checksum256\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"solutionHashDate\",\n"
            + "                    \"type\": \"timestamp_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"lastSuccessfulSolutionDate\",\n"
            + "                    \"type\": \"timestamp_t\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"create\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"capacity\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeCount\",\n"
            + "                    \"type\": \"uint8\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"owningAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"dispute\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"disputeID\",\n"
            + "                    \"type\": \"disputeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"disputingAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"chainURL\",\n"
            + "                    \"type\": \"string\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"status\",\n"
            + "                    \"type\": \"string\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"disputedChunkIDs\",\n"
            + "                    \"type\": \"string[]\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"disputeDecisions\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"id\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"disputeID\",\n"
            + "                    \"type\": \"disputeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"decision\",\n"
            + "                    \"type\": \"string\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"extend\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"filedispute\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"chainURL\",\n"
            + "                    \"type\": \"string\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"disputedChunkIDs\",\n"
            + "                    \"type\": \"string[]\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"nodeRegistration\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeURL\",\n"
            + "                    \"type\": \"string\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"registrationDate\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"stakedTokens\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"registeringAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"operatingAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"lastContactDate\",\n"
            + "                    \"type\": \"timestamp_t\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"nodeResources\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"maxChains\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"maxData\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"curChains\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"curData\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"refund\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"nodeid\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"reset\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"ruledispute\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"disputeID\",\n"
            + "                    \"type\": \"disputeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"decision\",\n"
            + "                    \"type\": \"string\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"setproof\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"solutionHash\",\n"
            + "                    \"type\": \"checksum256\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"setrepl\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeCount\",\n"
            + "                    \"type\": \"uint8\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"solveproof\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"solution\",\n"
            + "                    \"type\": \"string\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"stakeRefund\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"nodeID\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"account\",\n"
            + "                    \"type\": \"name\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"requestTime\",\n"
            + "                    \"type\": \"timestamp_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"amount\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"stakenode\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"nodeid\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"url\",\n"
            + "                    \"type\": \"string\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"chainCapacity\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"replicationCapacity\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"registeringAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"operatingAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"terminate\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"tokenAccounting\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"account\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"balance\",\n"
            + "                    \"type\": \"uint64\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"transfer\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"containerID\",\n"
            + "                    \"type\": \"containerid_t\"\n"
            + "                },\n"
            + "                {\n"
            + "                    \"name\": \"newOwningAccount\",\n"
            + "                    \"type\": \"name\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"unstakenode\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"nodeid\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                }\n"
            + "            ]\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"withdraw\",\n"
            + "            \"base\": \"\",\n"
            + "            \"fields\": [\n"
            + "                {\n"
            + "                    \"name\": \"nodeid\",\n"
            + "                    \"type\": \"nodeid_t\"\n"
            + "                }\n"
            + "            ]\n"
            + "        }\n"
            + "    ],\n"
            + "    \"types\": [\n"
            + "        {\n"
            + "            \"new_type_name\": \"containerid_t\",\n"
            + "            \"type\": \"uint64\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"new_type_name\": \"disputeid_t\",\n"
            + "            \"type\": \"uint64\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"new_type_name\": \"nodeid_t\",\n"
            + "            \"type\": \"uint64\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"new_type_name\": \"timestamp_t\",\n"
            + "            \"type\": \"uint64\"\n"
            + "        }\n"
            + "    ],\n"
            + "    \"actions\": [\n"
            + "        {\n"
            + "            \"name\": \"create\",\n"
            + "            \"type\": \"create\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"extend\",\n"
            + "            \"type\": \"extend\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"filedispute\",\n"
            + "            \"type\": \"filedispute\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"refund\",\n"
            + "            \"type\": \"refund\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"reset\",\n"
            + "            \"type\": \"reset\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"ruledispute\",\n"
            + "            \"type\": \"ruledispute\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"setproof\",\n"
            + "            \"type\": \"setproof\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"setrepl\",\n"
            + "            \"type\": \"setrepl\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"solveproof\",\n"
            + "            \"type\": \"solveproof\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"stakenode\",\n"
            + "            \"type\": \"stakenode\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"terminate\",\n"
            + "            \"type\": \"terminate\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"transfer\",\n"
            + "            \"type\": \"transfer\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"unstakenode\",\n"
            + "            \"type\": \"unstakenode\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"withdraw\",\n"
            + "            \"type\": \"withdraw\",\n"
            + "            \"ricardian_contract\": \"\"\n"
            + "        }\n"
            + "    ],\n"
            + "    \"tables\": [\n"
            + "        {\n"
            + "            \"name\": \"assignments\",\n"
            + "            \"type\": \"containerAssignment\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"containers\",\n"
            + "            \"type\": \"container\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"decisions\",\n"
            + "            \"type\": \"disputeDecisions\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"disputes\",\n"
            + "            \"type\": \"dispute\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"nodersrcs\",\n"
            + "            \"type\": \"nodeResources\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"nodes\",\n"
            + "            \"type\": \"nodeRegistration\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"stakerefund\",\n"
            + "            \"type\": \"stakeRefund\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        },\n"
            + "        {\n"
            + "            \"name\": \"tokenaccount\",\n"
            + "            \"type\": \"tokenAccounting\",\n"
            + "            \"index_type\": \"i64\",\n"
            + "            \"key_names\": [],\n"
            + "            \"key_types\": []\n"
            + "        }\n"
            + "    ],\n"
            + "    \"ricardian_clauses\": [],\n"
            + "    \"abi_extensions\": []\n"
            + "}";

    private String testABiHex = "000000000093dd74a2120e656f73696f3a3a6162692f312e30040d636f6e7461696e657269645f740675696e7436340b6469737075746569645f740675696e743634086e6f646569645f740675696e7436340b74696d657374616d705f740675696e7436341609636f6e7461696e657200040b636f6e7461696e657249440d636f6e7461696e657269645f740e65787069726174696f6e54696d650b74696d657374616d705f740863617061636974790675696e7436340d6f776e696e674163636f756e74046e616d6513636f6e7461696e657241737369676e6d656e7400080c61737369676e6d656e7449440675696e7436340b636f6e7461696e657249440d636f6e7461696e657269645f74066e6f64654944086e6f646569645f740f616c6c6f6361746564546f6b656e730675696e7436340f706572696f6469635061796d656e740675696e7436340c736f6c7574696f6e486173680b636865636b73756d32353610736f6c7574696f6e48617368446174650b74696d657374616d705f741a6c6173745375636365737366756c536f6c7574696f6e446174650b74696d657374616d705f740663726561746500040b636f6e7461696e657249440d636f6e7461696e657269645f740863617061636974790675696e743634096e6f6465436f756e740575696e74380d6f776e696e674163636f756e74046e616d6507646973707574650007096469737075746549440b6469737075746569645f740b636f6e7461696e657249440d636f6e7461696e657269645f7410646973707574696e674163636f756e74046e616d65066e6f64654944086e6f646569645f7408636861696e55524c06737472696e670673746174757306737472696e671064697370757465644368756e6b49447308737472696e675b5d10646973707574654465636973696f6e7300040269640675696e743634096469737075746549440b6469737075746569645f74066e6f64654944086e6f646569645f74086465636973696f6e06737472696e6706657874656e6400010b636f6e7461696e657249440d636f6e7461696e657269645f740b66696c656469737075746500040b636f6e7461696e657249440d636f6e7461696e657269645f74066e6f64654944086e6f646569645f7408636861696e55524c06737472696e671064697370757465644368756e6b49447308737472696e675b5d106e6f6465526567697374726174696f6e0007066e6f64654944086e6f646569645f74076e6f646555524c06737472696e6710726567697374726174696f6e446174650675696e7436340c7374616b6564546f6b656e730675696e743634127265676973746572696e674163636f756e74046e616d65106f7065726174696e674163636f756e74046e616d650f6c617374436f6e74616374446174650b74696d657374616d705f740d6e6f64655265736f75726365730005066e6f64654944086e6f646569645f74096d6178436861696e730675696e743634076d6178446174610675696e74363409637572436861696e730675696e74363407637572446174610675696e74363406726566756e640001066e6f64656964086e6f646569645f7405726573657400000b72756c65646973707574650003096469737075746549440b6469737075746569645f74066e6f64654944086e6f646569645f74086465636973696f6e06737472696e670873657470726f6f6600030b636f6e7461696e657249440d636f6e7461696e657269645f74066e6f64654944086e6f646569645f740c736f6c7574696f6e486173680b636865636b73756d323536077365747265706c00020b636f6e7461696e657249440d636f6e7461696e657269645f74096e6f6465436f756e740575696e74380a736f6c766570726f6f6600030b636f6e7461696e657249440d636f6e7461696e657269645f74066e6f64654944086e6f646569645f7408736f6c7574696f6e06737472696e670b7374616b65526566756e640004066e6f64654944086e6f646569645f74076163636f756e74046e616d650b7265717565737454696d650b74696d657374616d705f7406616d6f756e740675696e743634097374616b656e6f64650006066e6f64656964086e6f646569645f740375726c06737472696e670d636861696e43617061636974790675696e743634137265706c69636174696f6e43617061636974790675696e743634127265676973746572696e674163636f756e74046e616d65106f7065726174696e674163636f756e74046e616d65097465726d696e61746500010b636f6e7461696e657249440d636f6e7461696e657269645f740f746f6b656e4163636f756e74696e670002076163636f756e740675696e7436340762616c616e63650675696e743634087472616e7366657200020b636f6e7461696e657249440d636f6e7461696e657269645f74106e65774f776e696e674163636f756e74046e616d650b756e7374616b656e6f64650001066e6f64656964086e6f646569645f740877697468647261770001066e6f64656964086e6f646569645f740e00000000a86cd445066372656174650000000000a4a9725706657874656e64000054d615bba4a25b0b66696c65646973707574650000000000a4a997ba06726566756e64000000000080acb0ba057265736574000054d615bba4a2be0b72756c6564697370757465000000008bd25bb3c20873657470726f6f6600000000205675b3c2077365747265706c0000c0a2f456b523c50a736f6c766570726f6f6600000050894e054dc6097374616b656e6f646500000050d94c27afca097465726d696e61746500000000572d3ccdcd087472616e73666572000054a2534193f1d40b756e7374616b656e6f646500000000dcdcd4b2e3087769746864726177000800709e4a4ee6303603693634000013636f6e7461696e657241737369676e6d656e740000be6a3a93274503693634000009636f6e7461696e65720000c0933aec904a03693634000010646973707574654465636973696f6e7300000058655db14b03693634000007646973707574650000c0e8e2ab129d0369363400000d6e6f64655265736f75726365730000000000ac129d036936340000106e6f6465526567697374726174696f6e00d2d44b5d054dc60369363400000b7374616b65526566756e6490a7a60899a920cd0369363400000f746f6b656e4163636f756e74696e6700000000";
}
